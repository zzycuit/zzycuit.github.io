# Computer System2   

​        hello程序机器指令最初在磁盘上，程序加载时，被复制到主存，处理器运行时又从主存复制到处理器。这些复制就是开销，减慢了程序真正的工作。

​         大的存储设备比小的运行慢，快的比慢的造价高。随着这些年半导体技术的进步，这种处理器和主存之间的差距还在持续增大。加快处理器的运行速度比加快主存的运行速度要容易和便宜的多。针对这种差异，采用高速缓存存储器简称cache，作为暂时的集结区域，存放处理器近期可能需要的信息。利于高速缓存的局部性原理，系统可以获得一个很大的存储器，同时访问速度也很快，大部分内存操作都能在高速缓存中完成。意识到高速缓存器存在的应用程序员能够利用高速缓存将程序的性能提高一个数量级。存储器层次结构从上到下依次是：寄存器；L1高速缓存SRAM；L2高速缓存SRAM；L3高速缓存SRAM；主存DRAM；本地二级存储；远程二级存储（分布式文件系统，Web服务器）。从上到下，设备访问速度越来越慢，造价越来越低，主要思想是上一层的存储器作为低一层存储器的高速缓存。

​          当shell加载和运行hello程序时，以及hello输出自己的消息，两者都没有直接访问键盘，显示器和磁盘和主存。它们依靠操作系统提供的服务。操作系统可以被看作应用程序和硬件之间的一层软件，所有应用程序对硬件的操作尝试都必须通过操作系统。操作系统有两个基本功能：1.防止硬件被失控的应用程序滥用；2.向应用程序提供简单一致的机制来控制复杂而又通常大不相同的低级硬件设备。虚拟内存是对主存和磁盘I/O的抽象表示，进程则是对处理器，主存和IO设备的抽象表示，文件是对IO设备的抽象表示，操作系统依靠这几个抽象概念来实现这两个功能。