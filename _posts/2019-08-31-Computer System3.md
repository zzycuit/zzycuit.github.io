# Computer System3

​            进程是操作系统对一个正在运行的程序的一种抽象。在一个系统上可以同时运行多个进程，而每个进程都好像在独占地使用硬件。而并发运行，则是说一个进程的指令和另一个进程的指令是交错执行的。操作系统实现这种交错执行的机制称为上下文切换。操作系统保持跟踪进程运行所需的所有状态信息，这种状态，也就是上下文。如：有两个并发的进程shell和hello，最开始只有shell进程，等待命令行上的输入，当我们让它运行hello程序时，shell通过调用一个专门的函数，即系统调用，来执行请求，系统调用会将控制权限传递给操作系统。操作系统保存shell进程的上下文，创建一个新的hello进程及其上下文，然后将控制权传给新的hello进程，hello进程终止后，操作系统恢复shell进程的上下文，并将控制权限传回给它，shell进程会继续等待下一个命令输入。 从一个进程到另一个进程的转换是由操作系统内核管理的，内核是操作系统代码常驻主存的部分，应用程序需要OS的操作时，它就会执行一条特殊的系统调用指令，将控制器传递给内核，然后内核再执行被请求的操作。内核不是一个独立的进程，相反，它是系统管理全部进程所用代码和数据的集合。

​              线程都运行在进程的上下文中，并共享同样的代码和全局数据。一个进程实际上可以由多个称为线程的执行单元组成，多线程比多进程之间更容易共享数据。线程一般比进程更高效。

​               虚拟内存为每个进程提供了一个假象，即每个进程都在独立的使用主存。每个进程看到的内存都是一致的，称为虚拟地址空间。地址空间最下面的区域是程序代码和数据，此区域是直接按照可执行目标文件的内容初始化的。接着是运行时堆，不同于程序代码和数据区，堆可以根据malloc和free这样的C标准库函数运行时动态扩展和收缩。接着是共享库，用来存放C标准库和数学库这样的共享库的代码和数据的区域。然后是栈，位于用户虚拟地址空间顶部的是用户栈，编译器用它来实现函数调用，调用一个函数时栈增长，返回时收缩。最后是内核虚拟内存，地址空间顶部是为内核保留的，不允许应用程序读写这个区域的内容或直接调用内核代码定义的函数，相反它必须调用内核来执行这些操作。虚拟内存的基本思想是把一个进程虚拟内存的内容存储到磁盘上，然后用主存作为磁盘的高速缓存。

​               文件就是字节序列，它向应用程序提供了一个统一的视图，用来看待系统中可能含有的所有各式各样的IO设备。

​              网络可视为一个IO设备，系统从主存复制一串字节到网络适配器时，数据流经过网络到达另一台机器，同样，系统可以读取从其他机器发送来的数据并复制到主存。可以使用telnet应用在一个远程主机上运行城西。

​              Amdahl定律：当我们对系统的某个部分加速时，其对系统整体性能的影响取决于该部分的重要性和加速程度。